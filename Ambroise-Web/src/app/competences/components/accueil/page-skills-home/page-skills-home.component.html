<div class=gridContainer>
  <div class=gridContainer>
    <div class="motCles">

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <h6>Filtres : </h6>

        </mat-expansion-panel-header>

        <mat-form-field class="searchBar">
          <input matInput placeholder="Identité, métier, diplome ..." (keyup.enter)="doAddFilter()" aria-label="Number"
            [(ngModel)]="rechercheInput">
        </mat-form-field>
        <div class="allTagWords">
          <div class="tagWord" *ngFor="let tagWord of filter">

            <img class="closeTag" src='../../assets/images/close.png' alt="{{ tagWord }}"
              (click)="deleteTagWord($event)">
            <span>{{ tagWord }}</span>

          </div>
        </div>

        <mat-form-field class="avisSelect">
          <mat-label>Avis</mat-label>
          <mat-select [(value)]="avis" (selectionChange)="opinionFilter()">
            <mat-option>Aucun</mat-option>
            <mat-option *ngFor="let opinion of opinionList" [value]="opinion">
              {{opinion}}
            </mat-option>

          </mat-select>
        </mat-form-field>

      </mat-expansion-panel>
      <mat-expansion-panel #expansionCPT>
        <mat-expansion-panel-header>
          <h6 class="titreCpt">Filtres Compétences : </h6>
        </mat-expansion-panel-header>
        <div class="allTagWordsCpt">
          <div class="tagWordCpt" *ngFor="let filter of compFilter">
            <img class="closeTag" src='../../assets/images/close.png' alt="{{ filter }}"
              (click)="deleteSkillWord($event)">
            <span>{{ filter }}</span>
          </div>
        </div>
      </mat-expansion-panel>

    </div>

    <div>
      <mat-form-field class="searchBarCpt">
        <input matInput placeholder="Compétence et Soft Skill " (keyup.enter)="doAddSkill()" [formControl]="myControl"
          [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            {{option}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <div class="skillSheetInformation mat-elevation-z8">
        <table mat-table [dataSource]="skillsSheetDataSource" matSort (matSortChange)="onColumnSort($event)"
          class="container">

          <ng-container [matColumnDef]="displayedColumns[0]" sticky>
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{displayedColumns[0]}} </th>
            <td mat-cell *matCellDef="let element"> {{element[displayedColumns[0]]}} </td>
          </ng-container>

          <ng-container *ngFor="let column of displayedColumns">
            <ng-container *ngIf='column != "Nom Prénom"'>
              <ng-container [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column}} </th>
                <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
              </ng-container>
            </ng-container>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="navigateToSkillsSheet(row)"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 30]" showFirstLastButtons class="mat-paginator-sticky">
        </mat-paginator>
      </div>


    </div>
  </div>
</div>